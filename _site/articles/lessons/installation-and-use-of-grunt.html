<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Grunt的安装和使用-LocalAd周培公</title>
    <meta name="description" content="化尽情缘修古寺，扫遍佛塔入天山。
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.peigong.net/articles/lessons/installation-and-use-of-grunt.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">LocalAd周培公</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Grunt的安装和使用</h1>
    <p class="post-meta">Oct 15, 2013</p>
  </header>

  <article class="post-content">
    
<h2 id="grunt">安装Grunt前的准备</h2>

<blockquote>
  <p>本教程的内容较少原创，多从其他文档上摘录，详见参考资料部分。</p>
</blockquote>

<p>Grunt是一个自动化的项目构建工具。Grunt和Grunt的插件都是通过Node.js的包管理器npm来安装和管理的。</p>

<p>如果还没有安装Node.js，需要先从<a href="http://nodejs.org/">Node.js网站(http://nodejs.org/)</a>下载安装。</p>

<blockquote>
  <p>Node.js安装中，以及后继的其他安装中，可能需要系统管理员权限。</p>
</blockquote>

<blockquote>
  <p>安装Grunt之前，可以在命令行中运行<code>node -v</code>查看你的Node.js版本。0.8.0及以上版本的Node.js才能很好的运行Grunt。</p>
</blockquote>

<h2 id="grunt-1">安装Grunt的命令行接口</h2>

<p>为了方便使用Grunt，你应该在全局范围内安装Grunt的命令行接口(CLI)。</p>

<p>在命令行中，执行如下命令：</p>

<pre><code>npm install -g grunt-cli
</code></pre>

<p>这条命令将会把grunt命令植入到你的系统路径中，这样就允许你从任意目录来运行它(定位到任意目录运行grunt命令)。</p>

<h2 id="grunt-2">认识Grunt的两个常用文件</h2>

<p>使用Grunt构建的项目中，大多包含有package.json和Gruntfile。</p>

<p><strong>package.json</strong>：用于存储已经作为npm模块发布的项目元数据(也就是依赖模块，包括Grunt本身)。</p>

<p><strong>Gruntfile.js</strong>：用于配置或者定义Grunt任务和加载Grunt插件。</p>

<h2 id="grunt-3">用一个现有的Grunt项目进行工作</h2>

<p>如果已经安装好了Grunt的命令行接口(CLI)，并且项目中已经有了package.json和Gruntfile，使用Grunt进行工作是非常容易的。</p>

<h3 id="gruntgrunt">安装Grunt和相关Grunt插件</h3>

<ol>
  <li>进入项目目录(在命令行窗口定位到项目目录；在windows系统下，也可以进入项目文件夹后，按Shift+鼠标右键，打开右键菜单，选择“在此处打开命令窗口(W)”)。</li>
  <li>在命令行中，运行 <code>npm install</code>，安装项目相关依赖(插件，Grunt内置任务等依赖)。</li>
</ol>

<blockquote>
  <p>有些Grunt插件，比如JSDoc3插件，需要在命令行中可以执行git命令。最好先安装一个msysgit(http://msysgit.github.io/)，然后在环境变量中增加git的bin目录。</p>
</blockquote>

<h3 id="grunt-4">执行Grunt构建</h3>

<p>在上述的命令行中执行 <code>grunt</code>，就可以运行Grunt构建了。</p>

<blockquote>
  <p>至此，通过安装Node.js、在命令行中运行 <code>npm install -g grunt-cli</code>、<code>npm install</code> 和 <code>grunt</code>三个命令，就完成了使用现有的Grunt项目进行工作的所有准备。</p>
</blockquote>

<h2 id="grunt-5">准备一个新的Grunt项目</h2>

<h3 id="section">快速工作的项目脚手架</h3>

<p>有很多项目的结构和内容都很类似，人们就设计开发了可以快速工作的模板，能够通过模板迅速的自动创建项目，称为脚手架工具（<code>grunt-init</code>）。</p>

<p>在Grunt的GitHub主页（<a href="https://github.com/gruntjs">https://github.com/gruntjs</a>）上有很多之用的 <code>grunt-init-*</code> 脚本架模板工具，比如grunt-init-jquery、grunt-init-gruntplugin等等。</p>

<h4 id="grunt-init">安装grunt-init</h4>

<p><code>grunt-init</code> 是一个用于自动创建项目的脚手架工具。</p>

<p>先在命令行中进行全局安装：</p>

<pre><code>npm install -g grunt-init
</code></pre>

<p>这样，会把grunt-init命令植入到你的系统路径，从而允许你在任何目录中都可以运行它。</p>

<h4 id="grunt-init-1">安装和使用grunt-init模板</h4>

<p>把需要的模板放在你的 <code>~/.grunt-init/</code> 目录中（在Windows平台是%USERPROFILE%/.grunt-init目录）。</p>

<blockquote>
  <p><code>%USERPROFILE%</code> 一般是指“C:\Users\你的用户名”这个目录。</p>
</blockquote>

<p>建议使用如下的git clone命令把这个模板克隆到该目录：</p>

<pre><code>git clone https://github.com/clientlab/grunt-init-gruntfile.git ~/.grunt-init/gruntfile
</code></pre>

<p>在Windows平台上稍微有些不方便，但是可以在文件浏览器中输入%USERPROFILE%，定义到该目录下，然后执行如下命令：</p>

<pre><code>git clone https://github.com/clientlab/grunt-init-gruntfile.git ./.grunt-init/gruntfile
</code></pre>

<blockquote>
  <p>要想使用上述命令，需要先安装一个msysgit(http://msysgit.github.io/)，然后在环境变量中增加git的bin目录。</p>
</blockquote>

<p>最终的文件目录结构，如下：</p>

<pre><code>.grunt-init/
.grunt-init/gruntfile/
.grunt-init/gruntfile/README.md
.grunt-init/gruntfile/template.js
.grunt-init/gruntfile/root/
</code></pre>

<p>然后进入一个准备开发项目的空目录，按Shift+鼠标右键，打开右键菜单，选择“在此处打开命令窗口(W)”，打开命令行，执行如下程序：</p>

<pre><code>grunt-init gruntfile
</code></pre>

<blockquote>
  <p>请注意，此模板将在当前目录中生成文件，如果你不想覆盖现有文件，一定要使用一个新的空目录。</p>
</blockquote>

<h2 id="section-1">参考资料</h2>
<ul>
  <li><a href="http://nodejs.org">Node.js 官网(http://nodejs.org)</a></li>
  <li><a href="http://www.gruntjs.com">Grunt 官网</a> - [<a href="https://github.com/gruntjs/">GitHub</a>] [<a href="http://www.gruntjs.org/">中文文档</a>]</li>
  <li><a href="http://windows.github.com/">git工具的安装</a></li>
  <li><a href="https://github.com/gruntjs/">其他常用 grunt-init 模板</a></li>
  <li><a href="http://www.gruntjs.org/article/project_scaffolding.html">grunt-init 自定义模板开发</a></li>
  <li><a href="http://www.baidufe.com/item/f6234bd5af7958b2ba03.html">几个常见的“npm ERR! Error”</a></li>
</ul>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">LocalAd周培公</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>LocalAd周培公</li>
          <li><a href="mailto:peigong@foxmail.com">peigong@foxmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">化尽情缘修古寺，扫遍佛塔入天山。
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
