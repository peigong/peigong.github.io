<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>JSHint 使用说明（转）-LocalAd周培公</title>
    <meta name="description" content="化尽情缘修古寺，扫遍佛塔入天山。
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.peigong.net/articles/lessons/jshint-instructions-for-use.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">LocalAd周培公</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">JSHint 使用说明（转）</h1>
    <p class="post-meta">Oct 29, 2013</p>
  </header>

  <article class="post-content">
    
<blockquote>
  <p>本文全文转自<a href="http://zhang.zipeng.info/vimwiki/Entries/Reference/Tools/jshint.html">JSHint 使用说明(http://zhang.zipeng.info/vimwiki/Entries/Reference/Tools/jshint.html)</a>。</p>
</blockquote>

<h2 id="jshint">JSHint介绍</h2>

<p>翻译自：www.jshint.com</p>

<p>JSHint(注意不是jslint：）)是一个由javascript社区驱动开发的用于检查javascript代码错误和问题的工具，有了他，可以使你保持一个良好的编码风格。你可以很简单的配置它以适应你目前的一个编码风格。目前JSHint的源码可以在github上面找到。</p>

<h2 id="jshint-1">JSHint文档</h2>

<h3 id="jshint-2">如何使用JSHint</h3>

<p>JSHint是一个全局的函数，他接受两个参数，JSHint(source,options); 一个是代码source，另一个是options（选项） 第一个参数可以是一个字符串或者是一个字符串数组。如果是字符串，则他会被\n和\r分割，如果传入的参数是数组，就要保证数组的每一项是一行代码。 因此源码参数可以是javascript代码或者是一个json形式。如果所有的检测都ok，JSHint会返回true，否则就返回false。 当返回false的时候，你可以用JSHint.errors来获取错误信息或者用JSHint.data()来获取lint的信息。 如果要了解更多，参见源代码。 使用JSHint，你可以在js文件的开始设定选项，例如</p>

<pre><code>/*jshint evil:true, boss:true */
</code></pre>

<p>而设定global参数可以告诉JSHint，全局的变量配置。 例如</p>

<pre><code>/*global DISQUS: true, jQuery: false */
</code></pre>

<p>以上的这个例子是告诉JSHint,DISQUS是你自己声明的全局变量，而jQuery是你引入的全局变量</p>

<h3 id="jshintjslint">JSHint和JSLint有什么区别？</h3>

<p>JSHint是JSLint的一个分支（fork），他比JSLint更加的便捷。用来约束你的代码质量和编码风格。 每个人都有不一样的编码习惯和风格，JSHint通过配置可以适应于各种情况。 JSHint的适用环境</p>

<ul>
  <li>浏览器环境（browsers）</li>
  <li>Node.js</li>
  <li>jQuery</li>
  <li>ES5</li>
  <li>CouchDB</li>
  <li>Prototype.js</li>
  <li>Mootools.js</li>
</ul>

<h3 id="jshint-3">JSHint的选项配置</h3>

<h4 id="asi">asi</h4>

<p>如果是真，JSHint会无视没有加分号的行尾。自动补全分号一直是Javascript很有争议的一个语法特性。默认，JSHint会要求你在每个语句后面加上分号，但是如果你认为自己理解了asi(automatic semicolon insertion)，你可以抛弃JSHint对分号的检查。</p>

<h4 id="bitwise">bitwise</h4>

<p>如果为真，JSHint会禁用位运算符。Javascript允许位运算，但是他却没有整型，位运算符要把参与运算的数字从浮点数变为整数，并在运算后再转换回来。这样他们的效率就不如在别的语言中那么高。</p>

<h4 id="boss">boss</h4>

<p>很霸气的选项，如果为真，那么JSHint会允许在if，for，while里面编写赋值语句。一般来说，我们会在循环、判断等语句中加入值的比较来做语句的运行条件，有时候会把==错写成赋值的=，通常，JSHint会把这个认定为一个错误，但是开启这个选项的话，JSHint就不会检查判断条件中的赋值 ，你是boss，你说的算:)。</p>

<h4 id="curly">curly</h4>

<p>如果为真，JSHint会要求你在使用if和while等结构语句时加上{}来明确代码块。 Javascript允许在if等结构语句体只有一句的情况下不加括号。不过这样做可能会让你的代码读起来有些晦涩。</p>

<h4 id="debug">debug</h4>

<p>如果为真，JSHint会允许代码中出现debugger的语句。不过建议你最好在检测代码前去掉debug的语句。</p>

<h4 id="eqeqeq">eqeqeq</h4>

<p>如果为真，JSHint会看你在代码中是否都用了===或者是!==，而不是使用==和!=。 我们建议你在比较0，’‘(空字符)，undefined，null，false和true的时候使用===和!===。</p>

<h4 id="eqnull">eqnull</h4>

<p>如果为真，JSHint会允许使用”== null”作比较。== null 通常用来判断一个变量是undefined或者是null（当时用==，null和undefined都会转化为false）。</p>

<h4 id="evil">evil</h4>

<p>如果为真，JSHint会允许使用eval。eval提供了访问Javascript编译器的途径，这有时很有用，但是同时也对你的代码形成了注入攻击的危险，并且会对debug造成一些困难。 记住，Function构造函数也是另一个‘eval’，另外，当传入的参数是字符串的时候，setTimeout和setInterval也会类似于eval。</p>

<h4 id="forin">forin</h4>

<p>如果为真，那么，JSHint允许在for in 循环里面不出现hasOwnProperty。for in循环一般用来遍历一个对象的属性，这其中也包括他继承自原型链的属性，而hasOwnProperty可以来判断一个属性是否是对象本身的属性而不是继承得来的。</p>

<h4 id="immed">immed</h4>

<p>如果为真，JSHint要求匿名函数的调用如下：</p>

<pre><code>(function(){ // }());
</code></pre>

<p>而不是</p>

<pre><code>(function(){ //bla bla })();
</code></pre>

<h4 id="laxbreak">laxbreak</h4>

<p>如果为真，JSHint则不会检查换行。Javascript会通过自动补充分号来修正一些错误，因此这个选项可以检查一些潜在的问题。</p>

<h4 id="maxerr">maxerr</h4>

<p>设定错误的阈值，超过这个阈值jshint不再向下检查，提示错误太多。</p>

<h4 id="newcap">newcap</h4>

<p>如果为真，JSHint会要求每一个构造函数名都要大写字母开头。构造器是一种使用new运算符来创建对象的一种函数，new操作符会创建新的对象，并建立这个对象自己的this，一个构造函数如果不用new运算符来运行，那么他的this会指向全局对象而导致一些问题的发生。</p>

<h4 id="noarg">noarg</h4>

<p>如果为真，JSHint会禁止arguments.caller和arguments.callee的使用 arguments对象是一个类数组的对象，它具有一个索引值。arguments.callee指向当前执行的函数（这个在ES5的严格模式中被禁用了），而arguments.caller指向调用当前函数的函数（如果有的话），并且，他并不是在所有的Javascript实现里面都有。</p>

<h4 id="noempty">noempty</h4>

<p>如果为真，JSHint会禁止出现空的代码块（没有语句的代码块）。 如果为真，JSHint会禁用构造器，以避免一些问题。 在JSLint中会主动禁用构造器的方式以避免一些潜在问题，但其实很多构造器的使用并非有害，例如如下的调用</p>

<pre><code>new JsUIWindow(); //注意这个调用是没有把构造器的结果赋值给变量的
</code></pre>

<p>因此，我们需要使用构造器的时候可以禁用这个选项。</p>

<h4 id="nomen">nomen</h4>

<p>如果为真，JSHint会禁用下划线的变量名。 很多人使用_name的方式来命名他们的变量，以说明这是一个私有变量，但实际上，并不是，下划线只是做了一个标识。 如果要使用私有变量，可以使用闭包来实现。</p>

<h4 id="onevar">onevar</h4>

<p>如果为真，JSHint期望函数只被var的形式声明一遍。</p>

<h4 id="passfail">passfail</h4>

<p>如果为真，JSHint会在发现首个错误后停止检查。</p>

<h4 id="plusplus">plusplus</h4>

<p>如果为真，JSHint会禁用自增运算和自减运算 ++和–可能会带来一些代码的阅读上的困惑。</p>

<h4 id="regexp">regexp</h4>

<p>如果为真，JSHint会不允许使用.和[^…]的正则， 因为这样的正则往往会匹配到你不期望的内容，并可能会应用造成一些危害。</p>

<h4 id="sub">sub</h4>

<p>如果为真，JSHint会允许各种形式的下标来访问对象。 通常，JSHint希望你只是用点运算符来读取对象的属性（除非这个属性名是一个保留字），如果你不希望这样可以关闭这个选项。</p>

<h4 id="strict">strict</h4>

<p>如果为真，JSHint会要求你使用use strict;语法。 Strict 模式是ES5里面的一个新特性，他允许你把一个程序或者函数放在一个“严格”的作用域中。可见Resig写的一篇关于严格模式的blog 严格模式做了几件事情:</p>

<ol>
  <li>他可以捕获一些错误和异常</li>
  <li>当我们进行一下“不安全”的操作时，他会抛异常，例如访问全局变量。</li>
  <li>他会禁止你使用一些奇淫技巧，或者不良的代码编写。</li>
</ol>

<h4 id="undef">undef</h4>

<p>如果为真，JSHint会要求所有的非全局变量，在使用前都被声明。 如果你不在一个本地作用域内使用var的方式来声明变量，Javascript会把它放到全局作用域下面。这样会很容易引起错误。</p>

<h4 id="white">white</h4>

<p>如果为true，JSHint会依据严格的空白规范检查你的代码。</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">LocalAd周培公</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>LocalAd周培公</li>
          <li><a href="mailto:peigong@foxmail.com">peigong@foxmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">化尽情缘修古寺，扫遍佛塔入天山。
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
